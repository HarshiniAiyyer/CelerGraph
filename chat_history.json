[{"id": 1764373597673, "title": "FastAPI Dependency Injection Mechanism", "date": "Today", "conversation": [{"id": 1764373589213, "role": "user", "content": "How does FastAPI handle dependency injection?"}, {"id": 1764373589418, "role": "assistant", "content": "FastAPI implements dependency injection through the special **Depends** (and **Security**) classes. When you annotate a function parameter with `Depends(some_callable)`, FastAPI treats the callable as a dependency and automatically invokes it for each request, injecting whatever it returns into the path\u2011operation function. The callable can be synchronous or asynchronous, can depend on other dependencies, and is executed **around** the request\u2011response cycle, allowing FastAPI to manage setup and teardown via an `AsyncExitStack` stored in the request scope. Security dependencies work the same way but also convey OAuth2 scopes that are reflected in the OpenAPI schema. Internally, FastAPI keeps a `dependency_overrides_provider` that can replace dependencies (e.g., for testing) and uses the request\u2011scoped async stacks to ensure proper resource cleanup.  \n\nReferences: [node:param_functions.Depends::doc] [node:param_functions.Security::doc] [chunk:param_functions.py::106] [chunk:dependencies\\utils.py::34] [chunk:routing.py::89]", "hasGraph": true, "graphNodes": []}]}]